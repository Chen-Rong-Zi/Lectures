# 作业八

### 概念题

1. 相比于普通的函数，函数对象有什么优点？
```
状态存储：函数对象可以拥有自己的状态，存储在对象的成员变量中。这意味着它们可以记住一些信息，这些信息在多次调用时可以使用。

数据隐藏：函数对象的状态是封装的，只有函数对象自己可以管理这些状态，这有助于隐藏实现细节。

重载：函数对象可以通过重载operator()来接受不同的参数和行为，这比普通的函数更加灵活。
```

2. 试从静态成员函数作用的角度解释，为什么new操作符和delete操作符必须作为静态的成员函数来重载。
```
静态成员函数不依赖于实例对象的状态，保证了操作的一致性。
new操作符是用来在对象初始化的时候为对象分配内存空间的，而在分配过程中，该对象未被创建，new如果有this指针也无意义。
delete操作符是用来释放对象的内存空间、销毁对象的，如果对象被销毁后依然有this指针，则无意义。
```

3. 重载对象数组的创建操作 `void *operator new[](size_t size)` 时，为什么如果类存在析构函数则实际传入的参数 size 会比对象数组需要的空间多4个字节(64位机器上可能为8个字节)。试从 `void operator delete[](void *p)` 的操作过程这一角度解释。
```
多出来的字节为指向这一段内存空间的无类型指针，生存期类似静态变量，是用来在delete过程中作为对这段内存空间的访问媒介来释放内容。
```

4. 自定义类型转换操作符可能会造成什么问题？如何解决？
```
基类对象的指针或引用转换为不同继承层次的其他指针或引用。
如果父类指针指向一个父类对象，此时将父类指针转换成子类指针很不安全；
如果父类指针本身就指向子类指针则不存在安全问题。
```
