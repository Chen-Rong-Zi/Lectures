# 作业三

### 概念题

1. C++中深拷贝和浅拷贝有什么区别？
```
浅拷贝复制对象的内容，而深拷贝则会复制对象内容以及对象所指向的动态分配的资源，确保了拷贝后的对象之间的独立性。
```
2. 请简述const关键字和static关键字在类中的适用场景和作用
```
const关键字用于声明常量成员或指定成员函数为常量成员函数。常量成员表示其数值在对象创建后不能被修改，常量成员函数表示该函数不会修改对象的状态。
适用场景：
常量成员变量：常量成员变量在对象创建后不能被修改，通常用于表示对象的某些属性是不可变的。
常量成员函数：当函数不需要修改对象的状态时，可以将其声明为常量成员函数，以确保函数不会意外修改对象。

static关键字用于声明静态成员变量和静态成员函数。静态成员变量是类的所有对象共享的变量，而静态成员函数是独立于任何对象的函数。
适用场景：
静态成员变量：静态成员变量适合用于表示类的共享状态或类的某些属性，所有对象共享同一份静态成员变量。
静态成员函数：静态成员函数可以访问类的静态成员变量，并且它们不需要通过对象来调用，通常用于执行与类相关但不需要访问对象状态的操作。
```

3. C++中的友元是什么？有哪些特性？
```
友元是在类外部声明并定义的函数，但是在类内部通过friend关键字进行声明。
友元可以访问类的私有成员，就像是类的成员一样。
如果类A是类B的友元，类B是类C的友元，那么类A并不一定是类C的友元，友元关系不具有传递性。
```


### 编程题

1. 下面是一个实现书籍类`Book`的代码，每个书籍对象包含属性`name`，并通过静态变量`BookCnt`记录创建的对象数，但实现的代码中存在较多问题，请你指出并改正。

   ```C++
   #include <iostream>
   #include <cstring>
   using namespace std;
   
   class Book{
   	static int BookCnt;
   	char * name;
   public:
   	Book(const char * _name);
   	~Book();
   	char * get_name() const;
   	void set_name(const char * _name) const;
   };
   
   Book::Book(const char* _name){
   	name = new char[strlen(_name) + 1];
   	strcpy(name, _name); BookCnt++;
   }
   
   Book::~Book(){
   	delete []name;
   	name = nullptr;
   }
   
   char* Book::get_name() const{
   	return name;
   }
   
   void Book::set_name(const char* _name) const{
   	delete []name;
   	name = new char[strlen(_name) + 1];
   	strcpy(name, _name);
   }
   
   int main(){
   	Book b1("Computer Science");
   	Book b2(b1);
   	return 0;
   }
   ```

```
#include <iostream>
#include <cstring>
using namespace std;

class Book{
    static int BookCnt;
    char *name;

public:
    Book(const char *_name);
    Book(const Book &book);
    ~Book();
    char *get_name() const;
    void set_name(const char *_name);
};

Book::Book(const Book &other) {
    this->name = new char[strlen(other.name) + 1];
    strcpy(this->name, other.name);
    Book::BookCnt += 1;
}

int Book::BookCnt = 0;

Book::Book(const char *_name){
    name = new char[strlen(_name) + 1];
    strcpy(name, _name);
    Book::BookCnt += 1;
}

Book::~Book(){
    delete []name;
    name = nullptr;
}

char* Book::get_name() const{
    return name;
}

void Book::set_name(const char *_name) {
    delete []name;
    name = new char[strlen(_name) + 1];
    strcpy(name, _name);
}

int main(){
    Book b1("Computer Science");
    Book b2(b1);
    return 0;
}

1. 没有拷贝构造函数
2. set_name会修改类的状态，但是是常量成员
2. 静态成员变量BookCnt没有初始化
```

   

### 提交注意事项

截止时间：2024-3-26 23:59

文件格式：姓名-学号.pdf

提交方式：[南大计科在线实验教学平台](https://cslab-cms.nju.edu.cn/)

请同学们于截⽌时间前在南大计科在线实验教学平台上提交，每次作业最终只需要提交⼀个pdf⽂件即可，以“姓名-学号.pdf“的⽅式命名。

注意：
	请按要求命名文件，并且只提交一个PDF文件，编程题代码请附在PDF中。任何错误的命名和文件格式将影响你的作业得分。
