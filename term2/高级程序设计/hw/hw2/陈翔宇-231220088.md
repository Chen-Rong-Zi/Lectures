# 作业二

### 概念题

1. 在C++中，this指针的作用是什么？
```
this指针指向了当前的实例对象，允许访问当前的对象的属性
```

2. 相比于手动初始化类，使用构造函数初始化类有哪些优缺点？
```
优点：
    1. 一致性： 构造函数确保了对象在创建时会被正确初始化，避免了手动初始化可能忘记或者错误初始化属性的情况。
    2. 灵活性： 构造函数可以接受参数，根据参数的不同来初始化对象的属性，从而实现更加灵活的对象初始化方式。
    3. 维护性： 当类的属性或初始化逻辑发生变化时，只需修改构造函数即可，无需修改对象创建处的代码，提高了代码的可维护性。
缺点:
    1. 复杂性： 如果构造函数中的初始化逻辑较为复杂，可能会导致构造函数变得复杂难懂，降低了代码的可读性。
    2. 耦合性： 对象的初始化逻辑与构造函数紧密耦合在一起，可能导致对象的创建和初始化逻辑无法独立变化，增加了代码的耦合性。
```

3. 指出下面代码的错误，并修改

   ```C++
   class Circle {
       int r;
   private:
       void print() { std::cout << "Radius: " << r << std::endl;}
   public:
       Circle(int radius) : r(radius) {}
       ~Circle() { std::cout << "Circle Destroyed" << std::endl; }
   };
   
   int main() {
       Circle cir;
       cir.print();
   }
   ```

```C++
print()为private修饰的私有属性不应该在class定义之外调用。
应改为
   class Circle {
       int r;
   public:
       void print() { std::cout << "Radius: " << r << std::endl;}
       Circle(int radius) : r(radius) {}
       ~Circle() { std::cout << "Circle Destroyed" << std::endl; }
   };

   int main() {
       Circle cir;
       cir.print();
   }
```

4. 写出下面程序的输出结果
   ```C++
   class A {
       int x;
   
   public:
       A() : x(0) { std::cout << "A" << std::endl; }
       A(int i) : x(i) { std::cout << "A" << x << std::endl; }
       ~A() { std::cout << "~A" << x << std::endl; }
   };
   
   class B {
       A a;
       int y;
   
   public:
       B() : y(0) { std::cout << "B" << std::endl; }
       B(int i) : y(i) { std::cout << "B" << y << std::endl; }
       B(int i, int j) : a(j), y(i) { std::cout << "B" << y << std::endl; }
       ~B() { std::cout << "~B" << y << std::endl; }
   };
   
   int main() {
       { B b0; }
       { B *b1 = new B(1); }
       { B b2(1, 2); b2.~B(); }
   }
   ```
```
A
B
~B0
~A0
A
B1
A2
B1
~B1
~A2
~B1
~A2
```

### 编程题

1. 题目：设计一个简单的 C++ 类来表示矩形，该类具有以下功能：

   1. 构造函数：接受矩形的宽度和高度，并初始化矩形对象。
   2. 成员函数 `calculateArea()`：计算矩形的面积并返回。
   3. 成员函数 `calculatePerimeter()`：计算矩形的周长并返回。
   4. 析构函数：在对象销毁时输出一条消息表示对象被销毁。

   请编写这个类的声明和实现

```C++
class Rectangle {
public:
    double height;
    double width;

public:
    Rectangle(double height, double width) {
        this->height = height;
        this->width  = width;
    }
    
    ~Rectangle() {
        std::cout << "Rectangle died\n";
    }
    
    double calculateArea() {
        return this->height * this->width;
    }
    
    double calculatePerimeter() {
        return (this->height + this->width) * 2;
    }
};
```

### 提交注意事项

截止时间：2024-3-18 23:59

文件格式：姓名-学号.pdf

提交方式：[南大计科在线实验教学平台](https://cslab-cms.nju.edu.cn/)

请同学们于截⽌时间前在南大计科在线实验教学平台上提交，每次作业最终只需要提交⼀个pdf⽂件即可，以“姓名-学号.pdf“的⽅式命名。

注意：请按要求命名文件，并且只提交一个PDF文件，编程题代码请附在PDF中。任何错误的命名和文件格式将影响你的作业得分。
