# Problem Set 15: 关系的性质
提交截止时间：4 月 22 日 10:00

##  Problem 1
确定定义在所有人的集合上的关系 R 是否是自反的, 对称的, 反对称的和传递的, 其中 (a, b) ∈ R 当且仅当
(1) a 比 b 高.
```
自反性：若存在自反性则 a 比 a高，存在矛盾， 故无自反性
对称性：若存在对称性则 a 比 b高，b 比 a 高 存在矛盾， 故无自反性
反对称性：根据前一性质的证明，R一定具有反对称性
传递性：不妨假设(a, b) ∈ R ∧ (b, c) ∈ R 根据题设，则可以推出 a 比 c 高，所以 (a, c) ∈ R, 故R具有传递性
```

(2) a 和 b 同名.
```
自反性：显然a与a同名，b与b同名，所以∀a ∈ {所有人}，(a, a) ∈ R, 故有自反性
对称性：显然若a与b同名则b与a同名， 若(a, b) ∈ R 则 显然 (b, a) ∈ R
反对称性：根据前一性质的证明，R不具有反对称性
传递性：不妨假设(a, b) ∈ R ∧ (b, c) ∈ R 根据题设，则可以推出 a 与 c 同名，所以 (a, c) ∈ R, 故R具有传递性
```

(3) a 和 b 在同一天出生.
```
自反性：显然a与a在同一天出生，b与b同一天出生，所以∀a ∈ {所有人}，(a, a) ∈ R, 故有自反性
对称性：显然若a与b同一天出生则b与a同一天出生， 若(a, b) ∈ R 则 显然 (b, a) ∈ R
反对称性：根据前一性质的证明，R不具有反对称性
传递性：不妨假设(a, b) ∈ R ∧ (b, c) ∈ R 根据题设，则可以推出 a 与 c 同一天出生.，所以 (a, c) ∈ R, 故R具有传递性
```

(4) a 和 b 有共同的祖父母.
```
自反性：显然a与a在有共同的祖父母.，b与b有共同的祖父母，所以∀a ∈ {所有人}，(a, a) ∈ R, 故有自反性
对称性：显然若a与b有共同的祖父母 则 b与a有共同的祖父母， 若(a, b) ∈ R 则 显然 (b, a) ∈ R
反对称性：根据前一性质的证明，R不具有反对称性
传递性：不妨假设(a, b) ∈ R ∧ (b, c) ∈ R 根据题设，则可以推出 a 与 c 有共同的祖父母，所以 (a, c) ∈ R, 故R具有传递性
```

##  Problem 2
找出下面定理证明中的错误.

“定理”: 设 R 是集合 A 上的对称的和传递的关系, 则 R 是自反的.
“证明”: 设 a ∈ A. 取元素 b ∈ A 使得 (a, b) ∈ R. 由于 R 是对称的, 所以有 (b, a) ∈ R. 现在使用传递性, 由 (a, b) ∈ R
和 (b, a) ∈ R 可以得出 (a, a) ∈ R.
```
上述证明假设条件有误，自反性要求 (a, a) ∈ R 对 A 中所有元素都成立, 但对任意元素 a ∈ A, 并不总存在 b ∈ A 使得 (a, b) ∈ R.
```

##  Problem 3
$$设 R 是集合 A 上的自反关系, 证明对所有正整数 n, R^{n} 也是自反的.$$
```
若R是集合A上的自反关系，则∀ x ∈ A, (x, x) ∈ R,
不妨假设集合 λ = {(x, x) | x ∈ A}, 显然 λ ⊆ A
当 n = 1，命题显然成立
假设当n = k 的时候，命题成立，
则 λ ⊆ A ^ k
A ^ (k + 1) = A ^ k ∘ A
根据关系复合的定义，f ∘ g = {(a, b)  | ∃ c ∈ A, (a,c) ∈ g, (c,b) ∈ f}
又有 λ ⊆ A , λ ⊆ A ^ k
所以 ∀ x ∈ A, (x, x) ∈ A, (x, x) ∈ A ^ k
    λ = {(x, x) | x ∈ A} ⊆ A
故命题成立
```

##  Problem 4
设 R1 和 R2 是集合 A 上的关系, 由以下矩阵表示.
$$令A = M_{R_{1}}, B = M_{R_{2}}$$
(1) R1 ∪ R2
$$A_{ij} + B_{ij}$$

(2) R1 ∩ R2
$$A_{ij} ∧ B_{ij}$$

(3) R2 ◦ R1
$$B * A$$

(4) R1 ◦ R1
$$A * A$$

(5) R1 ⊕ R2
$$A_{ij} ⊕  B_{ij}$$

##  Problem 5
使用沃舍尔算法找出下面 {a, b, c, d, e} 上的关系的传递闭包.
(1) {(a, c), (b, d), (c, a), (d, b), (e, d)}
(2) {(b, c), (b, e), (c, e), (d, a), (e, b), (e, c)}
(3) {(a, b), (a, c), (a, e), (b, a), (b, c), (c, a), (c, b), (d, a), (e, d)}
(4) {(a, e), (b, a), (b, d), (c, d), (d, a), (d, c), (e, a), (e, b), (e, c), (e, e)}

##  Problem 6
设 A = {a, b, c, d, e, f }, R 是 A 上的关系, 且 R = {⟨a, b⟩, ⟨a, c⟩, ⟨e, f ⟩}, 设 R∗ = t(s(r(R))), 则 R∗ 是 A 上的等价关系.
(1) 给出 R∗ 的关系矩阵.
| 1   | 1   | 1   | 0   | 0   | 0   |
| --- | --- | --- | --- | --- | --- |
| 1   | 1   | 1   | 0   | 0   | 0   |
| 1   | 1   | 1   | 0   | 0   | 0   |
| 0   | 0   | 0   | 1   | 1   | 1   |
| 0   | 0   | 0   | 1   | 1   | 1   |
| 0   | 0   | 0   | 1   | 1   | 1   |

(2) 写出商集 A/R∗ .
```
A/R∗ = {{a, b, c}, {d}, {e, f}}
```

##  Problem 7
由 n 个元素组成的集合上, 有多少个关系是:
a) 对称的?
$$2 ^ {(n)(n+1)/2}$$

b) 反对称的?
$$2^{n} * 3 ^ {n(n-1)/2}$$

c) 非对称的?
$$3 ^ {n(n-1)/2}$$

d) 反自反的?
$$2^{n(n-1)}$$

e) 自反的和对称的?
$$2^{n(n-1)/2}$$


f) 既不是自反的也不是反自反的?
$$2^{n^{2}} - 2 ^ {n ^ {2} - n + 1}$$

##  Problem 8
设 R 和 S 是集合 A 上的自反关系. 证明 R ∩ S 和 R ∪ S 是自反的.
```
不妨设λ = {(x, x) | x ∈ A}
因为λ ⊆ R ∧ λ ⊆ S
所以 λ ⊆ (R ∩ S) ∧ λ ⊆ (R ∪ S)
所以R ∩ S 与 R ∪ S 是R上的自反关系
```

##  Problem 9
集合 {1, 2, 3, 4} 上的关系 R = {(2, 2), (2, 3), (2, 4), (3, 2), (3, 3), (3, 4)} 具有哪些性质?
```
自反性质：由于不具有(1, 1)，不具有该性质
反自反性质：由于具有(2, 2)，不具有该性质
对称性质：由于具有(2, 4)，但不具有(4, 2)，不具有该性质
反对称性质：由于具有(2, 3)、(3, 2)，不具有该性质
传递性质：由于具有(2, 3)、(2, 4)，但不具有(2, 4)不具有该性质
反传递性质：由于具有(2, 3)、(3, 3)、(3, 2)、(2, 2)，不具有该性质
```

##  Problem 10
$$证明: 集合 A 上的关系 R 是反对称的, 当且仅当 R ∩ R^{-1} 是恒等关系 {(a, a)|a ∈ A} 的子集.$$
```
充分性:
    若R ∩ R ^ (-1) ⊆ I, 则
    ∀(a, b) ∈ R, (a, b) ∉ R ^ (-1)
    → (b, a) ∉ R
    因此R是反对称的

必要性:
    若 R 是反对称的，则 ∀(a, b) ∈ R, (b, a) ∉ R
    又因为R ^ (-1) = {(b, a) | (a, b) ∈ R}
    所以，当a != b, ∀(a, b) ∈ R, (a, b) ∉ R ^ (-1)
    反向同理.
    又当 a == b, ∀(a, a) ∈ R, (a, a) ∈ R ^ (-1)
    故 R ∩ R ^ (-1) ⊆ I
```
