# 作业十

### 概念题

1.  请简述什么是事件驱动的程序设计？
```
它允许程序的执行流程由外部事件触发，而不是由程序内部的固定顺序或时间控制，
会监听各种类型的事件，这些事件可以是用户的操作、系统的行为或其他程序的调用。
```

2. 请简述什么是“文档-视”结构，它有什么作用？
```
它可以将应用程序的数据（文档）与用户界面（视图）分离开来，以实现数据和用户界面之间的解耦。
文档代表应用程序中的数据或数据集合，负责数据的存储、修改和管理。
视图负责显示文档中的数据，并且允许用户与数据进行交互
```

3. 请简述什么是图形用户接口（GUI）？与基于控制台的接口相比它有什么优点？
```
GUI是一种用户与计算机程序或设备交互的界面，通过图形化的方式向用户展示信息并允许用户通过图形化的控件（如按钮、文本框、菜单等）进行操作。
GUI通常使用窗口、图标、菜单等视觉元素来提供直观的交互方式

直观和易用：GUI通过图形化的界面和直观的操作方式，使用户更容易理解和使用程序。相比之下，基于控制台的接口通常需要用户输入命令或参数，对用户的使用要求更高。
可视化：GUI通过图形化的方式展示信息，使得数据和功能更容易被用户发现和理解。而基于控制台的接口通常只能以文本形式呈现信息，不够直观。
```

4. 通过函数返回值实现的异常异地处理有什么不足？
```
1. 使用函数返回值来表示异常状态会破坏函数原本的返回值语义。例如，一个函数可能返回一个整数表示操作结果，但如果需要用某个特定的整数值表示异常状态，就会使得这个返回值的语义变得不清晰。
2.当函数返回值表示异常状态时，调用者需要在每次调用后检查返回值以确定是否发生异常。这容易被忽略或者混淆，导致错误处理不到位。
3.将异常信息通过函数返回值传递给调用者时，通常只能传递一个简单的值
```

5. 什么是异常处理的嵌套？解释下列程序中抛出的异常被处理的位置?
   ```C++
   class Exception {
     int type;
   
   public:
     Exception(int t) : type(t) {}
     ~Exception() = default;
   };
   class EA : public Exception {
   public:
     EA() : Exception(0) {}
     ~EA() = default;
   };
   class EB : public Exception {
   public:
     EB() : Exception(1) {}
     ~EB() = default;
   };
   void h() {
     ... 
     throw EA();
     ... 
     throw Exception(2);
     ... 
     throw EB();
   }
   void g() {
     try {
       h();
     } catch (EA ea) {
       ...
     }
     ... 
     throw 2;
   }
   void f() {
     try {
       g();
     } catch (Exception e) {
       ...
     } catch (int) {
       ...
     }
   }
   
   int main() { 
       f(); 
   }
   ```
```
h()函数中抛出了三种异常：EA、Exception、EB。
第一个异常是EA类型的异常，它被catch块捕获，执行相应的处理代码。
第二个异常是一个匿名的Exception对象，它不会被当前的catch块捕获，会继续向外层的调用栈传播。
第三个异常是EB类型的异常，它被抛出但没有被当前函数的catch块捕获，会继续向外层的调用栈传播。
g()函数没有catch块捕获第二个异常，所以会继续向外层的调用栈传播。
f()函数中的第一个catch块捕获了第二个异常，执行相应的处理代码。
f()函数中的第二个catch块捕获了int类型的异常，执行相应的处理代码。
```


### 编程题

1. 示例程序中给出了一种除零异常的处理方式，请将程序修改为：遇到除零异常时不终止，一直到获得正确的数据为止。

```C++
#include <iostream>
using namespace std;
int divide(int x, int y) {
  if (y == 0)
    throw 0;
  return x / y;
}
void f() {
  int a, b;
  try {
    cout << "请输入两个数：";
    cin >> a >> b;
    int r = divide(a, b);
    cout << a << "除以" << b << "的商为：" << r << endl;
  } catch (int) {
    cout << "除数不能为0， 请重新输入两个数：";
    cin >> a >> b;
    int r = divide(a, b);
    cout << a << "除以" << b << "的商为：" << r << endl;
  }
}
int main() {
  try {
    f();
  } catch (int) {
    cout << "请重新运行本程序！" << endl;
  }
  return 0;
}
```

```cpp
#include <iostream>
using namespace std;
int divide(int x, int y) {
    if (y == 0)
        throw 0;
    return x / y;
}
void f() {
    int a, b;
    try {
        cout << "请输入两个数：";
        cin >> a >> b;
        int r = divide(a, b);
        cout << a << "除以" << b << "的商为：" << r << endl;
        return;
    } catch (int) {
        cout << "除数不能为0， 请重新输入两个数：";
        f();
    }
}
int main() {
    try {
        f();
    } catch (int) {
        cout << "请重新运行本程序！" << endl;
    }
    return 0;
}
```

### 提交注意事项

截止时间：2024-5-14 23:59

文件格式：姓名-学号.pdf

提交方式：[南大计科在线实验教学平台](https://cslab-cms.nju.edu.cn/)

请同学们于截止时间前在南大计科在线实验教学平台上提交，每次作业最终只需要提交一个pdf文件即可，以“姓名-学号.pdf“的方式命名。

##### 注意：

请按要求命名文件，并且只提交一个PDF文件，编程题代码请附在PDF中。任何错误的命名和文件格式将影响你的作业得分。
